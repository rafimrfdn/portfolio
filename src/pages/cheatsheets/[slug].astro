---
import Layout from '@/layouts/cheat-sheets.layout.astro';
import CheatSheetsPost from '@/views/CheatSheetsPost/index.astro';

export async function getStaticPaths({ paginate, rss }) {
  const postImportResult = import.meta.globEager('../../cheat-sheets/*.md');
  const allPosts = Object.values(postImportResult);

  const paths = allPosts.map((post) => {
    const slug = post.frontmatter.slug;
    return {
      params: {
        slug,
      },
      props: { post },
    };
  });
  return paths;
}
const { post } = Astro.props;

const { SITE } = import.meta.env;
---

<Layout
  lang="en"
  title={`${post.frontmatter.title} Cheat Sheets | Mohammad Abu Mattar`}
  description={post.frontmatter.description}
  keywords={post.frontmatter.tags}
  canonical={`${SITE}cheat-sheets/${post.frontmatter.slug}`}
  canonicalURL={`${SITE}cheat-sheets/${post.frontmatter.slug}`}
  next={post.frontmatter.next}
  prev={post.frontmatter.prev}
>
  <CheatSheetsPost post={post} />
</Layout>
