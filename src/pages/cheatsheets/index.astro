---
import Layout from '@/layouts/cheatsheets.layout.astro';
import CheatSheets from '@/views/CheatSheets/index.astro';

const allPosts = await Astro.glob('../../cheatsheets/*.md');
const nonDraftPosts = allPosts.filter((post) => !post.frontmatter.draft);

const programmingPosts = nonDraftPosts.filter(
  (post) => post.frontmatter.category === 'Programming',
);

const markupPosts = nonDraftPosts.filter(
  (post) => post.frontmatter.category === 'Markup',
);

const databasePosts = nonDraftPosts.filter(
  (post) => post.frontmatter.category === 'Database',
);

const devOpsPosts = nonDraftPosts.filter(
  (post) => post.frontmatter.category === 'DevOps',
);

const toolkitsPosts = nonDraftPosts.filter(
  (post) => post.frontmatter.category === 'Toolkits',
);
---

<Layout
  lang="en"
  title="CheatSheets | Mohammad Abu Mattar"
  description="Personal website, to show my software engineering skills at web development."
>
  <CheatSheets
    programmingPosts={programmingPosts}
    markupPosts={markupPosts}
    databasePosts={databasePosts}
    devOpsPosts={devOpsPosts}
    toolkitsPosts={toolkitsPosts}
  />
</Layout>
